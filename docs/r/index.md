---
title: R

tags:

---
<!-- This file was autogenerated by Actionsheets. Do not modify! -->

# R
[R](https://www.r-project.org/) is an easy-to-learn high-level programming language especially tailored to data science applications.

Pros:

- **Easy to learn**
  - High-level
  - Dynamically typed
- **Dynamic evaluation**, enabling powerful functions and more readable specification of formulas and models
- **Very reliable [ecosystem](https://cran.r-project.org/)**, compared to Python.
  Packages need to meet many requirements and demonstrate compatibility with dependencies.
- **High-quality data science packages**
- **Large community and help sources**
- **Rapid prototyping**
- **Excellent [glue language](https://www.devx.com/terms/glue-language/)**
  - Many packages interface with C or other fast languages to achieve performant code
  - Interoperable with many other languages
- **Reliable and standardized tooling**
- **Fluent inferface**: supports chaining functions, yielding much more readable analysis scripts.
- **Excellent notebook support**
- **Native vector/matrix support in the language**
- **Good documention**: functions are generally well-documented and include code examples.

Cons:

- **Lack of proper namespaces**: you are guaranteed to stumble into import order conflicts or naming conflicts.
- **Cryptic error messages**: R's standard error messages are very confusing. The inconsistent/unreadable stack trace does not help either.
- **Confusing object-oriented systems**: there are at least [three systems](https://adv-r.hadley.nz/oo-tradeoffs.html) for implementing object-oriented programming to some degree ([S3](https://adv-r.hadley.nz/s3.html), [S4](https://adv-r.hadley.nz/s4.html), [R6](https://adv-r.hadley.nz/r6.html)). Enough said.
- **Inconsistent standard library**: Quite a learning hurdle to get over.
- **Dot operator**: increases the flexibility of functions, but documentation of options is often severely lacking.
- **Very slow**: This is not a deal-breaker though for a glue/scripting language, and for prototyping purposes.
- **Dynamic evaluation**: A powerful feature, but is very confusing to new users, and difficult to implement for advanced users.
  - Environments: generally confusing for users, and can lead to fun surprising (serializing a simple linear formula resulting in a 10 GB file).
- **Dynamically typed**: great for rapid prototyping, not for large frameworks.


## Sourcing
Running an R script
<table markdown = "1">
<thead>
<tr>
<th class="th-action">Action</th>
<th class="th-code">Code</th>
<th class="th-details">Details</th>
</tr>
</thead>
<tr markdown="1">
<td markdown="1">
Run R script file
</td>
<td>
```R
source('file.R')
```
</td>
<td markdown="1"></td>
</tr>
<tr markdown="1">
<td markdown="1">
Get sourced file from within script
</td>
<td>
```R
as.character(sys.call(1))[2]
```
</td>
<td markdown="1">Does not work during start-up!</td>
</tr>
<tr markdown="1">
<td markdown="1">
Get sourced directory from within script
</td>
<td>
```R
dirname(as.character(sys.call(1))[2])
```
</td>
<td markdown="1"></td>
</tr>
</table>
## Options
<table markdown = "1">
<thead>
<tr>
<th class="th-action">Action</th>
<th class="th-code">Code</th>
<th class="th-details">Details</th>
</tr>
</thead>
<tr markdown="1">
<td markdown="1">
Enable debug (browse) on error
</td>
<td>
```R
options(error=recover)
```
</td>
<td markdown="1"></td>
</tr>
<tr markdown="1">
<td markdown="1">
Treat warnings as errors
</td>
<td>
```R
options(warn=2)
```
</td>
<td markdown="1"></td>
</tr>
<tr markdown="1">
<td markdown="1">
More concise (readable) traceback
</td>
<td>
```R
options(error=function() traceback(max.lines=3))
```
</td>
<td markdown="1"></td>
</tr>
<tr markdown="1">
<td markdown="1">
Disable scientific notation
</td>
<td>
```R
options(scipen=999)
```
</td>
<td markdown="1"></td>
</tr>
</table>
## Version checks
<table markdown = "1">
<thead>
<tr>
<th class="th-action">Action</th>
<th class="th-code">Code</th>
<th class="th-details">Details</th>
</tr>
</thead>
<tr markdown="1">
<td markdown="1">
Run code conditional on R version being later or equal than the given version number
</td>
<td>
```R
if (compareVersion(paste(version$major, version$minor, sep='.'), '3.6.0') >= 0)
```
</td>
<td markdown="1"></td>
</tr>
</table>
## Random number generation
<table markdown = "1">
<thead>
<tr>
<th class="th-action">Action</th>
<th class="th-code">Code</th>
<th class="th-details">Details</th>
</tr>
</thead>
<tr markdown="1">
<td markdown="1">
Use legacy RNG (R<3.6) for newer R versions
</td>
<td>
```R
if (compareVersion(
    paste(version$major, version$minor, sep='.'),
    '3.6.0') >= 0
) {
    RNGkind(sample.kind='Rounding')
}

```
</td>
<td markdown="1">A fix to reproduce RNG of R 3.5.0, for reproducing old results</td>
</tr>
</table>
## Output
<table markdown = "1">
<thead>
<tr>
<th class="th-action">Action</th>
<th class="th-code">Code</th>
<th class="th-details">Details</th>
</tr>
</thead>
<tr markdown="1">
<td markdown="1">
Output object
</td>
<td>
```R
cat(x)
```
</td>
<td markdown="1"></td>
</tr>
<tr markdown="1">
<td markdown="1">
Output string
</td>
<td>
```R
cat('hello')
```
</td>
<td markdown="1"></td>
</tr>
<tr markdown="1">
<td markdown="1">
Print object
</td>
<td>
```R
print(x)
```
</td>
<td markdown="1"></td>
</tr>
<tr markdown="1">
<td markdown="1">
Print string
</td>
<td>
```R
print('hello')
```
</td>
<td markdown="1"></td>
</tr>
<tr markdown="1">
<td markdown="1">
Show message
</td>
<td>
```R
message('msg')
```
</td>
<td markdown="1"></td>
</tr>
<tr markdown="1">
<td markdown="1">
Show warning
</td>
<td>
```R
warning('warning')
```
</td>
<td markdown="1"></td>
</tr>
<tr markdown="1">
<td markdown="1">
Show warning right now
</td>
<td>
```R
warning('warning', .immediate=TRUE)
```
</td>
<td markdown="1"></td>
</tr>
<tr markdown="1">
<td markdown="1">
Trigger and show error
</td>
<td>
```R
stop('this is serious')
```
</td>
<td markdown="1"></td>
</tr>
<tr markdown="1">
<td markdown="1">
Redirect output to file
</td>
<td>
```R
sink('log.txt')
```
</td>
<td markdown="1">Use sink() to restore</td>
</tr>
<tr markdown="1">
<td markdown="1">
Capture any output as string
</td>
<td>
```R
txt = capture.output({...})
```
</td>
<td markdown="1"></td>
</tr>
<tr markdown="1">
<td markdown="1">
Suppress all output
</td>
<td>
```R
capture.output({...})
```
</td>
<td markdown="1"></td>
</tr>
<tr markdown="1">
<td markdown="1">
Suppress automatic printing of object in interactive mode
</td>
<td>
```R
invisible(x)
```
</td>
<td markdown="1"></td>
</tr>
<tr markdown="1">
<td markdown="1">
Suppress all output
</td>
<td>
```R
sink('nul:')
```
</td>
<td markdown="1">'/dev/null' on linux?</td>
</tr>
<tr markdown="1">
<td markdown="1">
Suppress messages
</td>
<td>
```R
suppressMessages({...})
```
</td>
<td markdown="1"></td>
</tr>
<tr markdown="1">
<td markdown="1">
Suppress package messages on load
</td>
<td>
```R
suppressPackageStartupMessages({...})
```
</td>
<td markdown="1"></td>
</tr>
<tr markdown="1">
<td markdown="1">
Suppress warnings
</td>
<td>
```R
suppressWarnings({...})
```
</td>
<td markdown="1"></td>
</tr>
</table>
